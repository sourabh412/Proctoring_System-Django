{% extends 'Home/proctorHome.html' %}
{% block activea %}text-primary bg-info bg-opacity-10 border-bottom border-primary{% endblock %}
{% block body %}

<div class="container">
  <input type="text" class="form-control float-end border border-none m-2 bg-success bg-opacity-10" id="searchbar" placeholder="search(USN)" style="width: 200px;">
  <div class="accordion mt-2" id="accordionExample">
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingOne">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
          aria-expanded="true" aria-controls="collapseOne">
          1st Year Students - ({{Y1|length}})
        </button>
      </h2>
      <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
        data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <table class="table table-striped table-hover my-3" style="background: rgba(96, 238, 248, 0.123)">
            <thead>
              <tr style="background: rgba(96, 162, 248, 0.274)">
                <th scope="col">USN</th>
                <th scope="col">Full Name</th>
                <th scope="col">Email Id</th>
                <th scope="col">Section</th>
                <th scope="col">Semester</th>
                <th scope="col">Activity pts</th>
                <th scope="col">Remove</th>
              </tr>
            </thead>
            <tbody>
              {% for student in Y1 %}
              <tr>
                <th scope="row">
                  <form action="{% url 'ViewStudent' %}" method="post" target="_blank">
                    {% csrf_token %}
                    <input name="sUSN" type="submit" value="{{student.USN}}"
                      style="text-decoration:none;border:none;background:transparent;"
                      onMouseOver="this.style.color='#0000FF'" onMouseOut="this.style.color='black'">
                  </form>
                </th>
                <td>{{student.Name}}</td>
                <td><a href="mailto:{{student.EmailId}}">{{student.EmailId}}</a></td>
                <td>{{student.Section}}</td>
                <td>{{student.Semester}}</td>
                {% if student.Activitypts == 0 %}
                <td class="table-danger">{{student.Activitypts}}</td>
                {% elif student.Activitypts < 100 %} <td class="table-warning">{{student.Activitypts}}</td>
                  {% else %}
                  <td>{{student.Activitypts}}</td>
                  {% endif %}
                  <td>
                    <form action="kickstudent" method="post" onsubmit="return kick({{forloop.counter0}})">
                      {% csrf_token %}
                      <input type="text" hidden value="{{student.USN}}" name="USN">
                      <button type="submit" class="btn btn-danger py-0">Remove</button>
                    </form>
                  </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingTwo">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo"
          aria-expanded="false" aria-controls="collapseTwo">
          2nd Year Students - ({{Y2|length}})
        </button>
      </h2>
      <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
        data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <table class="table table-striped table-hover my-3" style="background: rgba(96, 238, 248, 0.123)">
            <thead>
              <tr style="background: rgba(96, 162, 248, 0.274)">
                <th scope="col">USN</th>
                <th scope="col">Full Name</th>
                <th scope="col">Email Id</th>
                <th scope="col">Section</th>
                <th scope="col">Semester</th>
                <th scope="col">Activity pts</th>
                <th scope="col">Remove</th>
              </tr>
            </thead>
            <tbody>
              {% for student in Y2 %}
              <tr>
                <th scope="row">
                  <form action="{% url 'ViewStudent' %}" method="post" target="_blank">
                    {% csrf_token %}
                    <input name="sUSN" type="submit" value="{{student.USN}}"
                      style="text-decoration:none;border:none;background:transparent;"
                      onMouseOver="this.style.color='#0000FF'" onMouseOut="this.style.color='black'">
                  </form>
                </th>
                <td>{{student.Name}}</td>
                <td><a href="mailto:{{student.EmailId}}">{{student.EmailId}}</a></td>
                <td>{{student.Section}}</td>
                <td>{{student.Semester}}</td>
                {% if student.Activitypts == 0 %}
                <td class="table-danger">{{student.Activitypts}}</td>
                {% elif student.Activitypts < 100 %} <td class="table-warning">{{student.Activitypts}}</td>
                  {% else %}
                  <td>{{student.Activitypts}}</td>
                  {% endif %}
                  <td>
                    <form action="kickstudent" method="post" onsubmit="return kick({{forloop.counter0}})">
                      {% csrf_token %}
                      <input type="text" hidden value="{{student.USN}}" name="USN">
                      <button type="submit" class="btn btn-danger py-0">Remove</button>
                    </form>
                  </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingThree">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
          data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          3rd Year Students - ({{Y3|length}})
        </button>
      </h2>
      <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
        data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <table class="table table-striped table-hover my-3" style="background: rgba(96, 238, 248, 0.123)">
            <thead>
              <tr style="background: rgba(96, 162, 248, 0.274)">
                <th scope="col">USN</th>
                <th scope="col">Full Name</th>
                <th scope="col">Email Id</th>
                <th scope="col">Section</th>
                <th scope="col">Semester</th>
                <th scope="col">Activity pts</th>
                <th scope="col">Remove</th>
              </tr>
            </thead>
            <tbody>
              {% for student in Y3 %}
              <tr>
                <th scope="row">
                  <form action="{% url 'ViewStudent' %}" method="post" target="_blank">
                    {% csrf_token %}
                    <input name="sUSN" type="submit" value="{{student.USN}}"
                      style="text-decoration:none;border:none;background:transparent;"
                      onMouseOver="this.style.color='#0000FF'" onMouseOut="this.style.color='black'">
                  </form>
                </th>
                <td>{{student.Name}}</td>
                <td><a href="mailto:{{student.EmailId}}">{{student.EmailId}}</a></td>
                <td>{{student.Section}}</td>
                <td>{{student.Semester}}</td>
                {% if student.Activitypts == 0 %}
                <td class="table-danger">{{student.Activitypts}}</td>
                {% elif student.Activitypts < 100 %} <td class="table-warning">{{student.Activitypts}}</td>
                  {% else %}
                  <td>{{student.Activitypts}}</td>
                  {% endif %}
                  <td>
                    <form action="kickstudent" method="post" onsubmit="return kick({{forloop.counter0}})">
                      {% csrf_token %}
                      <input type="text" hidden value="{{student.USN}}" name="USN">
                      <button type="submit" class="btn btn-danger py-0">Remove</button>
                    </form>
                  </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingFour">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
          data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
          4th Year Students - ({{Y4|length}})
        </button>
      </h2>
      <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour"
        data-bs-parent="#accordionExample">
        <div class="accordion-body">
          <table class="table table-striped table-hover my-3" style="background: rgba(96, 238, 248, 0.123)">
            <thead>
              <tr style="background: rgba(96, 162, 248, 0.274)">
                <th scope="col">USN</th>
                <th scope="col">Full Name</th>
                <th scope="col">Email Id</th>
                <th scope="col">Section</th>
                <th scope="col">Semester</th>
                <th scope="col">Activity pts</th>
                <th scope="col">Remove</th>
              </tr>
            </thead>
            <tbody>
              {% for student in Y4 %}
              <tr class="z">
                <th scope="row">
                  <form action="{% url 'ViewStudent' %}" method="post" target="_blank">
                    {% csrf_token %}
                    <input name="sUSN" type="submit" value="{{student.USN}}"
                      style="text-decoration:none;border:none;background:transparent;"
                      onMouseOver="this.style.color='#0000FF'" onMouseOut="this.style.color='black'">
                  </form>
                </th>
                <td>{{student.Name}}</td>
                <td><a href="mailto:{{student.EmailId}}">{{student.EmailId}}</a></td>
                <td>{{student.Section}}</td>
                <td>{{student.Semester}}</td>
                {% if student.Activitypts == 0 %}
                <td class="table-danger">{{student.Activitypts}}</td>
                {% elif student.Activitypts < 100 %} <td class="table-warning">{{student.Activitypts}}</td>
                  {% else %}
                  <td>{{student.Activitypts}}</td>
                  {% endif %}
                  <td>
                    <form action="kickstudent" method="post" onsubmit="return kick({{forloop.counter0}})">
                      {% csrf_token %}
                      <input type="text" hidden value="{{student.USN}}" name="USN">
                      <button type="submit" class="btn btn-danger py-0">Remove</button>
                    </form>
                  </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}

{% block script %}

<script>
  document.getElementById('searchbar').addEventListener('keyup', function(){
      var input, filter, li, a, i, txtValue;
      input = document.getElementById("searchbar").value;
      filter = input.toUpperCase();
      li = document.getElementsByName('sUSN');
      lj = document.getElementsByClassName('z');
      for (i = 0; i < li.length; i++) {
          a = li[i].value;
          if (a.toUpperCase().indexOf(filter) > -1) {
              lj[i].hidden = false;
          } else {
              lj[i].hidden = true;
          }
      }
  })
</script>

{% endblock %}